# Информация о Git и GitHub

## Git. Основные команды консоли

### Навигация

`pwd` - (**p**rint **w**orking **d**irectory - показать рабочую папку) показать путь к рабочей папке <br>
`ls` - (**l**i**s**t directory contents - отобразить содержимое директории») показать содержимое рабочей папки <br>
`ls -a` - показать также скрытые файлы и папки, названия которых начинаются с символа "." <br>
`cd` - (**c**hange **d**irectory - сменить папку) перейти в папку, путь к которой указан после cd <br>
`cd ..` - перейти на уровень вверх <br>
`cd ~` - перейти в домашнюю директорию <br>
`cd /` - перейти в корневую директорию (для Windows нужно указать название диска) <br>

### Работа с файлами и папками

#### Создание

`touch index.html` - (коснуться) - создать файл *index.html* в рабочей папке <br>
`touch index.html style.css script.js` - если нужно создать несколько файлов, можно написать их через пробел <br>
`mkdir` - (make directory - создать папку) создание папки в текущем месторасположении. После mkdir нужно указать имя папки. <br>

#### Копирование и перемещение

`cp file.txt ~/my-dir` - (copy - копировать) скопировать файл *file.txt* в ~/my-dir <br>
`mv file.txt ~/my-dir` - (move - переместить) переместить файл *file.txt* в ~/my-dir <br>

#### Чтение

`cat file.txt` - (con*cat*enate and print - объединить и распечатать) вывести содержимое файла *file.txt* <br>

#### Удаление

`rm about.html` - (remove - удалить) удалить файл *about.html* <br>
`rmdir images` - удалить папку *images* (для пустых папок) <br>
`rm -r second-project` - удалить папку *second-project* вместе с содержимым. <br>

### Полезные возможности

- Можно выполнить две команды в одной строке, если разделить их амперсандами `&&` <br>
- Консоль запоминает последние команды. Переключаться между ними можно клавишами `↑` и `↓` <br>
- Чтобы не вводить название папки полностью, можно нажать `Tab`. Если вариант заполнения единственный, название допишется, в другом случае выведет список вариантов. <br>

### Работа с локальным репозиторием

`git init` - сделать текущую папку репозиторием. Создастся скрытая папка *.git* <br>
`-rm -rf .git` - удаляем скрытую папку *.git*. `-r` означает "recursive" - рекурсивно, т.е. вместе с содержимым, `-f` - "force", заставить, убирает предупреждения "Вы точно хотите удалить эту папку?" <br>
`git status` - проверить состояние <br>
`git add index.html` - добавить файл *index.html* в репозиторий <br>
`git add --all` - добавить все файлы <br>
`git add .` - добавить текущую папку целиком <br>
`git commit index.html -m "Добавлен файл index.html"` - сохранить файл *index.html* в репозиторий. Сохраняет только добавленные. После ключа *-m* нужно ввести сообщение c изменениями <br>
`git log` - просмотреть историю коммитов <br>

---

## GitHub

### Создание репозитория

Зайти на https://github.com/username . Перейти на вкладку "Repositories", нажать кнопку "New". Ввести название. Оно необязательно должно совпадать с названием папки на компьютере, но во избежание путаницы стоит назвать ее так же. Выбрать тип - "Public" или "Private", нажать "Create repository".

### SSH-ключи (Secure Shell)

Данный раздел лучше выполнять не по шпаргалке. <br>

Ключи обычно находятся в домашней директории в папке *.ssh/* <br>

#### Генерация SSH-ключа

`ssh-keygen -t ed25519 -C "электронная почта"` - команда для генерации ssh-ключа по алгоритму шифрования ed25519 <br>
`ssh-keygen -t rsa -b 4096 -C "электронная почта"` - команда для генерации ssh-ключа по алгоритму шифрования rsa. <br>

Кодовая фраза при создании необязательна. <br>

Создастся два ключа - публичный (с расширением *pub*) и приватный (без расширения). **ПРИВАТНЫЙ НЕ КОПИРОВАТЬ И НЕ ОТПРАВЛЯТЬ НИКОМУ** <br>

#### Привязка GitHub к Git по публичному SSH-ключу
 
**Windows:** <br>
Cкопировать содержимое ключа в буфер обмена: <br>
` clip < ~/.ssh/id_rsa.pub `<br>
*для ed25519:* <br>
` clip < ~/.ssh/id_ed25519.pub  `<br>
**macOS:** <br>
Cкопировать содержимое ключа в буфер обмена: <br>
` pbcopy < ~/.ssh/id_rsa.pub `<br>
*для ed25519:* <br>
` pbcopy < ~/.ssh/id_ed25519.pub `<br>

В GitHub: Settings -> New SSH key. *Title* = **Personal key**, *Key Type* = **Authentication Key**. В поле *Key* вставить содержимое буфера обмена. <br>

#### Проверка привязки ключа

`ssh -T git@github.com ` <br>

Ссылка c ключами GitHubs: https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/githubs-ssh-key-fingerprints

#### Привязка локального репозитория к репозиторию на GitHub

`git remote add origin git@github.com:%ИМЯ_АККАУНТА%/first-project.git` - команда для связывания двух репозиторием. Необходимо передать два параметра: имя удалённого репозитория и его URL. В качестве имени использовано origin (главный репозиторий, обычно один), а url нужно скопировать с GitHub со страницы репозитория. <br>
`git remote -v` - проверка связи между репозиториями. Флаг *-v*  - короткая форма флага --verbose ("подробный").

#### Ветки

Если коммит — это снимок состояния файлов, то ветка — временна́я шкала, на которой расположены эти снимки. Ветка всегда начинается от одного из коммитов. <br>
В репозитории может существовать сразу несколько веток — параллельных историй изменений. Также они могут соединяться друг с другом. <br>
Самая первая ветка в репозитории появляется автоматически и называется *main* (англ. «основная») или *master*. <br>

#### Отправка изменений на удаленный репозиторий

`git push -u origin main` - команда для отправки изменений на сервер в первый раз. Если команда приведёт к ошибке, попробуйте заменить main на master. <br>
`git push` - команда для отправки изменений.

---

## Хеш - идентификатор коммита

Содержит следующую информацию: когда сделан коммит, содержимое файлов в репозитории на момент коммита и ссылка на предыдущий или **родительский** коммит. Хранится в папке *.git* <br>

Git хеширует информацию о коммите с помощью алгоритма SHA-1. Обычно хеш - это короткая строка (40 символов в случае SHA-1), которая состоит из цифр 0-9 и латинских букв A-F. <br>

Два важных свойства: <br>

- если хеш получить дважды для одного и того же набора входных данных, то результат будет гарантированно одинаковый; <br>
- если хоть что-то в исходных данных поменяется (хотя бы один символ), то хеш тоже изменится (причём сильно). <br>

## Работа с логами

`git log` - получить историю коммитов. <br>
`git log --oneline` - получить сокращенный лог. Выводит первые несколько символов хеша, по которым система может однозначно найти хеш среди других в репозитории, и комментарии. Число символом не фиксировано, подбирается Git-ом. <br>

## Файл HEAD

Один из служебных файлов папки *.git*. Хранит ссылку на служебный файл `refs/heads/master` - ссылку на хеш последнего коммита.